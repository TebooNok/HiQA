 # CA-IF1043 低功耗具有故障保护功能的 CAN 收发器

# 1. 产品特性
• 符合 ISO 11898-2:2016 和 ISO 11898-5:2007 物理层
标准
• 所有器件均支持经典 CAN 和 5Mbps CAN FD（灵活
数据速率）
• 快速且对称的环路传播时间
• 在有负载 CAN 网络中实现更快的数据速率
• 工作模式
o 常规模式
o 静默模式
o INH 输出的低功耗待机模式，支持当地和远程
唤醒请求
o 低功耗休眠模式
• 未上电时的理想无源特性
o 总线和逻辑引脚处于高阻态（无负载）
o 上电和掉电时总线和 RXD 输出上无毛刺脉冲
• 适用于 12V 和 24V 电池系统
• VIO 支持 1.7V 到 5.5V 电平转换
• 保护 特性
o 总线故障保护：±58 V
o VCC，VIO 和 VBAT 电源引脚上具有欠压保护
o 驱动器显性超时 (TXD DTO) - 数据速率低至
5kbps
o TXD 到 RXD 短路诊断
o 总线短路诊断
o 总线显性钳位诊断
o 热关断保护 (TSD)
o 冷启动诊断(电池先上电)
• 接收器共模输入电压：±30 V
• 典型循环延迟：130ns
• 结温范围：-55°C 至 150°C
• 可提供 SOIC14 和 DFN14 封装
• AEC-Q100 Grade 1


# 2. 应用
• 车身电子
• 车载网关
• 高级辅助驾驶（ADAS）
• 智能座舱


# 3. 概述
该 CAN 收发器系列符合 ISO11898-2 (2016) 高速 CAN（控
制器局域网络）物理层标准。所有器件均设计用于数据
速率高达 5Mbps（兆位每秒）的 CAN FD 网络。CAIF1043 收发器具有低功耗待机模式，支持 ISO 11898-
2:2016定义的唤醒序列。CA-IF1043通过INH管脚输出，
可以选择性的使能各种电源系统以节省电池功耗。在低
功耗休眠模式下，所有外部器件都被关闭，只有 CAIF1043 处于低功耗状态等待总线唤醒。该器件支持总线
故障保护电压±58V，包含许多保护功能，如热关断，
TXD 显性超时保护和电源欠压保护，以提高器件和 CAN
的稳定性。
器件信息
---table begin---
Table tile:CA-IF1043 零件信息表
| 零件号           | 封装        | 封装尺寸(标称值)    |
|-----------------|------------|------------------|
| CA-IF1043NF-Q1  | SOIC14     | 3.9mm x 8.65mm   |
| CA-IF1043DF-Q1  | DFN14      | 3.0mm x 4.5mm    |
---table end---



# 4. 订购指南
---table begin---
Table tile:CA-IF1043有效订购零件编号表
| 型号             | 封装        | 封装尺寸         |
|-----------------|------------|----------------|
| CA-IF1043NF-Q1  | SOIC14     | 3.9mm x 8.65mm |
| CA-IF1043DF-Q1  | DFN14      | 3.0mm x 4.5mm  |
---table end---


# 5. 引脚功能描述
表 5-1 CA-IF1043 引脚功能描述
---table begin---
Table tile:CA-IF1043引脚功能描述表
| 引脚名称  | 引脚编号 | 类型     | 描述 |
|----------|--------|---------|------|
| TXD      | 1      | 输入   | 传输数据输入。TXD 为高 CAN 总线输出为隐性态，TXD 为低 CAN 总线输出为显性态。内部具有上拉电阻。|
| GND      | 2      | 地     | 参考地。|
| VCC      | 3      | 电源   | 5V 电源输入。在 VCC 和 GND 之间接入一个 0.1uF 电容尽量的靠近器件。|
| RXD      | 4      | 数字输出 | 接收器数据输出。当 CAN 总线处于隐性态时，RXD 为高电平。当 CAN 总线处于显性态时，RXD 为低电平。RXD 的参考电源为 VIO。|
| VIO      | 5      | 电源   | IO 电源电压 |
| EN       | 6      | 数字输入 | 模式控制的使能输入，内部集成下拉电阻 |
| INH      | 7      | 高压输出 | 用于控制外部电源系统使能 |
| nFAULT   | 8      | 数字输出 | 故障输出，低电平表示有故障发生 |
| WAKE     | 9      | 高压输入 | 唤醒输入端口 |
| VSUP     | 10     | 电源   | 电池电源输入 |
| NC       | 11     | NC     | |
| CANL     | 12     | 总线   | 低电平 CAN 总线 |
| CANH     | 13     | 总线   | 高电平 CAN 总线 |
| nSTB     | 14     | 数字输入 | 待机模式控制管脚。内部具有下拉电阻。|
---table end---


# 6. 产品规格.
# 6.1. 绝对最大额定值 1
---table begin---
Table tile:CA-IF1043 绝对最大额定值 1表
| 参数               | 最小值   | 最大值   | 单位 |
|-------------------|---------|---------|------|
| VSUP              | -0.3    | 58      | V    |
| VCC               | -0.3    | 7       | V    |
| VIO               | -0.3    | 7       | V    |
| VBUS              | -58     | 58      | V    |
| V(DIFF)           | -58     | 58      | V    |
| V(Logic_Input)    | -0.3    | +7      | V    |
| V(Logic_Output)   | -0.3    | +7      | V    |
| VINH              | -0.3    | Vsup+0.3| V    |
| V(wake)           | -58     | 58      | V    |
| IO（LOGIC）       |         | 8       | mA   |
| IO（INH）         |         | 4       | mA   |
| IO（WAKE）        |         | 3       | mA   |
| TJ                | -55     | 150     | ℃    |
备注: 
1. 等于或超出上述绝对最大额定值可能会导致产品永久性损坏。这只是额定最值，并不能以这些条件或者在任何其它超出本技术规
范操作章节中所示规格的条件下，推断产品能否正常工作。长期在超出最大额定值条件下工作会影响产品的可靠性。
---table end---


# 6.2. ESD 额定值
---table begin---
Table tile:CA-IF1043 ESD 额定值表
| 测试项目          | 测试条件                                 | 数值     | 单位 |
|-------------------|-----------------------------------------|----------|------|
| CA-IF1043NF-Q1，CA-IF1043DF-Q1 | HBM ESD                         |          |      |
|                   | 所有管脚                                | ±4000    | V    |
|                   | CAN 总线端口（CANH，CANL）到 GND         | ±8000    | V    |
|                   | CDM ESD                                 |          |      |
|                   | 所有管脚                                | ±1500    | V    |
|                   | System Level ESD                        |          |      |
|                   | CAN 总线端口（CANH，CANL）到 GND，       |          |      |
|                   | VSUP， WAKE                             |          |      |
|                   | IEC 61000-4-2 : 不上电接触放电          | ±6000(1) | V    |
|                   |                                         |          |      |
| 备注:             | (1)系统测试加 TVS                        |          |      |
| JEDEC 文件 JEP155 | 规定 500V HBM 可通过标准 ESD 控制过程实现安全制造 |          |      |
---table end---


# 6.3. 推荐工作条件
---table begin---
Table tile:CA-IF1043 推荐工作条件表
| 参数               | 最小值 | 最大值 | 单位 |
|-------------------|-------|-------|------|
| VSUP              | 4.5   | 45    | V    |
| VCC               | 4.5   | 5.5   | V    |
| VIO               | 1.7   | 5.5   | V    |
| IOH(RXD)          |       | -2    | mA   |
| IOL(RXD)          | 2     |       | mA   |
| IO(INH)           |       | 2     | mA   |
| TA                | -40   | 125   | ℃    |
---table end---



# 6.4. 热量信息
---table begin---
Table tile:CA-IF1043 热量信息表
| 热量表           | 单位     | SOIC14  | DFN14   |
|-----------------|----------|---------|---------|
| RθJA            | IC 结至环境的热阻 | 76.6 °C/W | 35.1 °C/W |
---table end---


# 6.5. 电气特性
---table begin---
Table tile:CA-IF1043 电气特性表
除非有额外说明，本表格数据均为建议工作条件下的测试结果。
| 参数      | 测试条件                               | 最小值 | 典型值 | 最大值 | 单位 |
|----------|----------------------------------------|-------|-------|-------|------|
| 电源特性    |                                        |       |       |       |      |
| ISUP     | 常规态，静默态，进入休眠态                  | 45    | 80    | uA    |
|          | 待机模式，VINH=V(WAKE)=VSUP               | 40    | 80    | uA    |
|          | 休眠模式，Vcc=VIO=VINH=0V，V(WAKE)=VSUP   | 35    | 70    | uA    |
| Icc      | 5V 电源电流                               |       |       |       | mA   |
|          | TXD=0V，RL=60 Ohm（显性），如图 7-1       | 48    | 70    |       | mA   |
|          | TXD=0V，RL=50 Ohm（显性），如图 7-1       | 50    | 80    |       | mA   |
|          | TXD=0V，CANH=-25V（显性），如图 7-1      | 84    | 110   |       | mA   |
|          | TXD=VIO，RL=50 Ohm（隐性），如图 7-1     | 1.8   | 5     |       | mA   |
|          | 静默态和进入休眠态，TXD=VIO， RL=50 Ohm  | 1     | 2.5   |       | mA   |
|          | 待机模式， EN=L，nSTB=L                   | 1.2   | 5     |       | uA   |
|          | 休眠模式， EN=H 或者 L， nSTB=L           | 2     | 5     |       | uA   |
| IIO      | I/O 电源电流                             |       |       |       | uA   |
|          | 常规模式（显性），TXD=0V， nSTB=VIO，EN=VIO | 110   | 450   |       | uA   |
|          | 常规模式（隐性），静默态或者进入休眠态，TXD=VIO | 3.5   | 5     |       | uA   |
|          | 休眠模式，nSTB=L                         | 3     | 5     |       | uA   |
| Vuv_SUP  | VSUP UVLO 电压 上升                      | 2.5   | 3.65  | 4.2   | V    |
| VHYS(UVSUP) | VSUP UVLO 滞回电压                     |       |       | 50    | mV   |
| Vuv_vcc  | VCC UVLO 电压 上升                       | 4.1   | 4.45  |       | V    |
| VHYS(VCC) | VCC UVLO 滞回电压                       |       |       | 200   | mV   |
| Vuv_vio  | VIO UVLO 电压 上升                       | 1.4   | 1.56  | 1.7   | V    |
| VHYS(UVIO) | VIO UVLO 滞回电压                      |       |       | 80    | mV   |
| ...      | ...                                    | ...   | ...   | ...   | ...  |
| 注：      |                                        |       |       |       |      |
| 1. L 表示低电平，H 表示高电平；                        |       |       |       |      |
| 2. 测试数据基于实验室验证和仿真结果。                    |       |       |       |      |
---table end---



# 6.6. 开关特性（可选）
---table begin---
Table tile:CA-IF1043 开关特性（可选）表
除非有额外说明，本表格数据均为建议工作条件下的测试结果。
| 参数         | 测试条件                                              | 最小值 | 典型值 | 最大值 | 单位 |
|-------------|---------------------------------------------------|--------|--------|--------|------|
| 驱动器开关特性    |                                                  |        |        |        |      |
| tR          | 总线驱动上升时间                                          |        | 45     |        | ns   |
| tF          | 总线驱动下降时间                                          |        | 45     |        | ns   |
| tONTXD      | TXD 延迟(隐形到显性)                                      |        | 50     |        | ns   |
| tOFFTXD     | TXD 延迟(显形到隐性)                                      |        | 40     |        | ns   |
| Tsk(p)      | 脉冲偏差                                                 |        | 10     |        | ns   |
| tTXD_DTO    | TXD 显性超时                                             | 2      | 5      | 8      | ms   |
| 接收器开关特性    |                                                  |        |        |        |      |
| tONRXD      | RXD 延迟(隐形到显性)                                      |        | 80     |        | ns   |
| tOFFRXD     | RXD 延迟(显形到隐性)                                      |        | 80     |        | ns   |
| tR          | RXD 驱动上升时间                                          |        | 8      |        | ns   |
| tF          | RXD 驱动下降时间                                          |        | 8      |        | ns   |
| Tbus_dom    | 超时保护                                                 | 2      | 5      | 8      | ms   |
| TCBF        | 总线故障检测时间                                          |        | 1.9    |        | us   |
| 唤醒端口      |                                                  |        |        |        |      |
| twake_HT    | 唤醒保持时间                                             |        | 5      | 50     | us   |
| 器件开关特性    |                                                  |        |        |        |      |
| tloop1      | 环路延迟时间                                             | 155    | 210    |        | ns   |
| tloop2      | 环路延迟时间                                             | 155    | 210    |        | ns   |
| Tmode1      | 模式转换时间                                             |        | 50     |        | us   |
| Tmode2      | 模式转换时间                                             |        | 20     |        | us   |
| Tuv_vcc     | VCC 欠压检测时间                                          |        | 30     |        | us   |
| Tuv_vio     | VIO 欠压检测时间                                          |        | 60     |        | us   |
| Tuv_vsup    | VSUP 欠压检测时间                                         |        | 120    |        | us   |
| Tuv_long(vcc&vio)2 | VCC&VIO 过长欠压检测时间                               | 150    | 350    |        | ms   |
| Tpower_up   | VSUP 上电时间                                            |        | 250    | 1000   | us   |
| Trec_vcc    | VCC 欠压恢复时间                                          |        | 100    |        | us   |
| Trec_vio    | VIO 欠压恢复时间                                          |        | 50     |        | us   |
| Twk_FILTE   | 有效唤醒的滤波时间                                       |        | 0.5    | 1.8    | us   |
| TWK_FILTEROUT | 总线唤醒超时                                            |        | 0.5    | 6      | ms   |
| T_start_RXD | RXD 启动时间 远程唤醒后 RXD 启动时间                        | 2      | 50     |        | us   |
| T_start_INH | INH 启动时间 远程唤醒后 INH 启动时间                        | 2      | 50     |        | us   |
| Th(go-to-sleep) | 进入休眠模式保持时间 nSTB=L，EN=H 保持时间，之后进入休眠模式 | 20     | 50     |        | us   |
| Td(mode-nFAULT) | nFAULT 的响应时间 模式转换后 nFAULT 管脚的响应时间          |        | 20     |        | us   |
| FD TIMING 特性   |                                                  |        |        |        |      |
| Tbit(bus)   | bit 时间 nSTB=VIO ，总线侧 RL=60 Ohm，CL=100pF，CLRXD=15pF   | 450    | 530    |        | ns   |
| Tbit(bus)   | bit 时间 nSTB=VIO ，总线侧 RL=60 Ohm，CL=100pF，CLRXD=15pF   | 155    | 210    |        | ns   |
| Tbit(rxd)   | bit 时间 nSTB=VIO ，接收侧 RL=60 Ohm，CL=100pF，CLRXD=15pF   | 400    | 550    |        | ns   |
| Tbit(rxd)   | bit 时间 nSTB=VIO ，接收侧 RL=60 Ohm，CL=100pF，CLRXD=15pF   | 120    | 220    |        | ns   |
| Trec 脉冲偏差   | nSTB=VIO ，接收侧 RL=60 Ohm，CL=100pF，CLRXD=15pF         
注：
1. L 表示低电平，H 表示高电平；
2. 测试数据基于实验室验证和仿真结果。
---table end---




# 9. 详细说明
# 9.1. 概述
具有低功耗待机模式的 CAN 收发器 CA-IF1043 满足 ISO11898-2(2012)的物理层标准，其 VSUP 工作电源电压为
45V。CA-IF1043 具有+/-30V 的共模输入范围，CAN 总线端口(CANH，CANL)支持高达+/-58V 的短路保护，使其能适用于
恶劣的工业环境。
器件可以工作在 CAN 的最大传输速率下，允许小型网络传输 5Mbps 数率，最大的传输速率受限于电容负载和一
些其他的因素。
CA-IF1043 集成了多种保护和诊断功能，支持本地和远程唤醒。在休眠模式下，通过 INH 将外部电源稳压器关闭
以使系统的功耗最小化
 

# 9.3. 器件工作模式
 CA-IF1043 有四个主要的工作模式:常规模式，待机模式，静默模式和休眠模式，以及一个过渡模式:进入休眠模式。
模式选择是通过 nSTB 和 EN 端口的输入来进行配置。
表 9-1 工作模式表
---table begin---
Table tile:CA-IF1043 工作模式表 电子设备控制信号和模式说明
- VCC** 和 **VIO**：电源电压和输入/输出电压。
- VSUP**：供电电压的控制信号。
- EN**：使能信号。
- nSTB**：触发信号。
- WAKERQ**：唤醒请求信号，用于从休眠或睡眠模式中唤醒设备。
- Flag**：状态标志或指示器。
- 模式**：设备的工作模式，如常规模式、静默模式、休眠模式、待机模式等。
- FAULT**：故障信号，指示设备是否发生故障。
- 驱动**：驱动电路的相关控制。
- 接收 RXD bus**：接收数据的总线，可能是串行数据线（RXD）。
- bias**：偏置相关信号。
- INH**：禁止（Inhibit）信号。

模式切换和信号操作

1. 普通模式：
   - 使能UVVCC&UVVIO，UVVSUP设置为高。
   - 模式切换至CBF/WAKESR1。
   - 使能总线根据Vcc/2。
   
2. 静默模式：
   - 使能UVVCC&UVVIO，UVVSUP设置为低。
   - 模式切换至PWRON/local failure2。
   - 关闭使能，根据总线使能Vcc/2。

3. 进入休眠模式：
   - 使能UVVCC&UVVIO，UVVSUP设置为高，INH设置为低。
   - 关闭WAKERQ3，关闭低功耗接收器使能。
   - 使能GND，清零。
   
4. 清零休眠模式：
   - 关闭WAKERQ3，关闭低功耗接收器使能。
   - 使能GND，关闭。
   
5. 待机模式：
   - 使能UVVCC&UVVIO，UVVSUP设置为低，INH设置为低。
   - 关闭WAKERQ3，关闭低功耗接收器使能。
   - 唤醒后拉低GND使能。

6. 清零待机模式：
   - 关闭WAKERQ3，关闭低功耗接收器使能。
   - 唤醒后拉低GND使能。

7. 休眠模式：
   - 关闭WAKERQ3，关闭低功耗接收器使能，使能GND。
   - 关闭UVVSUP。

8. 保护模式：
   - 高阻保护，关闭UVVSUP，关闭高阻，关闭高阻保护。

9. 关闭：
   - 关闭。

注：
1. 进入常规模式后， 在 TXD 四个显性到隐性跳变之前显示 WAKESR 标识符，在 TXD 四个显性到隐性跳变之后显
示 CBF 标识符；
2. 从常规模式进入静默模式显示本地故障标识符，从待机模式，进入休眠模式和休眠模式进入静默模式显示
PWRON 标识符；
3. 在 VIO，VCC 和 VSUP 有电时候有效；
4. L 表示低电平，H 表示高电平，X 表示无关紧要；
---table end---


# 9.3.1. 总线状态
常规模式下 CAN 总线有两种工作状态：显性和隐性，如图 9-1 和 9-2。显性态时，TXD 为低，总线差分输出，RXD
输出为低。隐性态时，TXD 为高，总线被内部电阻偏置到 Vcc/2，RXD 输出为高。
静默模式下总线也被内部电阻偏置到 Vcc/2。
在待机模式和休眠模式下，芯片会进入低功耗状态，这时，总线会被内部电阻偏置到地，如图 9-1 和 9-2。
注：
1.进入休眠模式后，EN 管脚可以被置高或者置低，由于 EN 管脚内部有一个下拉电阻，将 EN 管脚置地或者悬空可以节省功耗;
2.电源端口 VBAT，VCC 以及 VIO 正常供电。
#  9.3.2. 保护模式
当 VSUP 电压降低到欠压保护电压以下时候，器件将进入保护模式。在此模式下，驱动器和接收器都被关闭，INH
输出高阻，nFAULT 输出高阻，总线和 RXD 也呈高阻态。
# 9.3.3. 常规模式
这是器件工作的常规模式，驱动器和接收器都在正常工作并且总线可以进行双向通信。驱动器根据 TXD 的输入信
号驱动总线，接收器将总线的状态转化为数字逻辑输出到 RXD。
常规模式下，INH 输出为高，这样，由 INH 控制的外部稳压器也在正常工作。进入常规模式会将标识符 WAKERQ
和 PWRON 清零。
#  9.3.4. 静默模式
静默模式也成为侦听模式，在此模式下，驱动器被关闭，而接收器可以正常工作，将总线的状态转化为数字逻辑
输出到 RXD。
静默模式下，INH 也同样输出为高，PWRON 和本地故障标识符可以通过 nFAULT 管脚输出。
# 9.3.5. 待机模式
待机模式是 CA-IF1043 的第一级低功耗模式，在此模式下，驱动器和主接收器都被关闭，只有一个低功耗接收器
用来监测总线的状态。管脚 INH 输出为高。
在待机模式下，若有唤醒请求 (WAKERQ)发生，RXD 管脚将被置低，唤醒请求的原因将由 nFAULT 管脚回到正常模
式后标识出。
# 9.3.6. 进入休眠模式
进入休眠模式是器件从其他模式进入休眠模式的过渡态。在此模式下，驱动器和接收器被关闭，INH 管脚输出为
高。若器件保持时间超过 tgo-to-sleep，器件将进入休眠模式，INH 管脚被关闭。
若 WAKERQ 标识符被置位，待机模式不会进入休眠模式，待 WAKERQ 标识符被清零后，才允许进入休眠模式。
# 9.3.7. 休眠模式
休眠模式是 CA-IF1043 的第二级低功耗模式。从”进入休眠模式”可以进入”休眠模式”，或者当 VCC 或 VIO 发生欠
压超过一定时间后也会进入休眠模式。在休眠模式下，收发器都被关闭，INH 输出也被关闭，由 INH 控制的外部稳压
器也同时被关闭，这样，VSUP 上消耗的电流也就呈最小值。
处于休眠模式中的器件可以被唤醒，唤醒模式有两种:
1，远程唤醒：低功耗接收器接收总线上的有效唤醒序列；
2，本地唤醒：WAKE 管脚上的状态发生改变；
另外，在 VCC 和 VIO 同时有电时候，EN 和 nSTB 也可以改变器件的工作模式。
若远程唤醒或者本地唤醒发生后，内部的 WAKERQ 标识符被置位，器件进入待机模式，INH 管脚同时被拉高。唤
醒源标识符(WAKESR)根据唤醒的模式被置高或者置低，在器件回到常规模式并且发生四个隐性到显性的跳变之前，该
唤醒源标识符的状态同时输出到 nFAULT 管脚上。
唤醒源(WAKESR)标识符有两个状态:
1， 低电平：表示由 WAKE 管脚唤醒；
2， 高电平：表示由总线远程唤醒；
如果本地唤醒和远程唤醒同时发生，唤醒源标识符显示先触发的那个事件。
当 VIO 或 VCC 电源发生欠压并超过时间 tuv_long 后，器件也会进入休眠模式。如果在休眠模式下 VIO 有电，建议将
EN 管脚拉低以节省功耗。
# 9.4. 通过总线的远程唤醒
总线上的一个特定的唤醒序列可以将器件从休眠模式和待机模式中唤醒（根据 ISO 11898-2:2016）。唤醒后，RXD
端口输出低电平，INH 被拉高。
唤醒序列包含:
• 显性态至少持续 Twk_FILTE，然后
• 隐性态至少持续 Twk_FILTE，然后
• 显性态至少持续 Twk_FILTE
上述中的显性或者隐性位宽若小于 Twk_FILTE 将会被忽略。
该完整的显性-隐性-显性序列必须小于 Twk_FILTE_OUT 以被有效识别（图 9-4），否则，内部的唤醒逻辑会被重置，必
须等待下一个完整的唤醒序列来触发唤醒行为。在有效唤醒前，RXD 管脚一直为高电平。
再检测到完整的唤醒序列后，芯片处于待机模式下，RXD 管脚输出低电平信号。总线的信号若小于 TWK_FILTE 时
间，将不会被低功耗接收器识别并输出到 RXD 管脚上。
在有效唤醒后，若发生以下行为，RXD 管脚仍将不会显示唤醒行为：
• 芯片切换到常规模式；
• 在 Twk_FILTE_OUT 时间内，完整的唤醒序列没有被接受到；
• VCC 或者 VIO 发生欠压；
# 9.5. 通过 WAKE 管脚的本地唤醒
 WAKE 管脚是一个高压输入管脚，可以被用来做本地唤醒。当 WAKE 管脚有一个上升沿或者下降沿时候就会触发
本地唤醒。当有效唤醒发生后，器件进入待机模式，在常规模式或者静默模式下，WAKE 电路被关闭。
 为了减少系统的功耗，在一个延迟时间(twake_min)后，内部偏置电压跟随 WAKE 管脚的逻辑状态。一个高电平加在
WAKE 管脚后，内部偏置将其上拉至 Vsup，一个低电平加在 WAKE 管脚后，内部偏置将其下拉至 GND。在不需要本地
唤醒的应用中，建议将 WAKE 管脚连接至 Vsup 或者 GND，来确保更优的 EMI 性能。
# 9.6. 驱动器和接收器功能表
表 9-2 驱动器功能表
---table begin---
Table tile:CA-IF1043 驱动器功能表
| 模式        | TXD    | 输入信号 | 总线输出信号 | 驱动总线状态   |
| ----------- | ------ | -------- | ------------ | -------------- |
| 常规模式    | L      | H1       | L            | 显性，偏置到 Vcc/2 |
| 静默模式    | X      | Z        | Z            | 偏置到 Vcc/2    |
| 待机        | X      | Z        | Z            | 偏置到 GND     |
| 进入休眠模式 | X      | Z        | Z            | 偏置到 GND     |
| 休眠        | X      | Z        | Z            | 偏置到 GND     |
注释：
- TXD：传输数据线状态。
- 输入信号：设备输入信号状态。
- 总线输出信号：设备驱动的总线输出信号状态。
- 驱动总线状态：设备驱动总线的状态描述。
---table end---


# 9.6.1.  接收器功能表
表 9-3 接收器功能表
---table begin---
Table tile:CA-IF1043 接收器功能表
| 模式        | VID       | 总线状态 | RXD   |
| ----------- | --------- | -------- | ----- |
| 常规模式    | VID>0.9V  | 显性     | 低    |
|             | 0.5V<VID<0.9V | 未知   | 未知  |
|             | VID<0.5V   | 隐性     | 高    |
|             | Open(VID=0V) | 开路   | 高    |
| 待机        | VID>1.15V | 显性     | 高，再唤醒后变低 |
|             | 0.4V<VID<1.15V | 未知 |  |
|             | VID<0.4V   | 隐性     |  |
|             | Open(VID=0V) | 开路   |  |
| 休眠和进入休眠模式 | VID>1.15V | 显性 | 高，再唤醒后变低，若VIO或Vsup不上电，RXD为未知态 |
|             | 0.4V<VID<1.15V | 未知 |  |
|             | VID<0.4V   | 隐性     |  |
|             | Open(VID=0V) | 开路   |  |
注释：
- VID：差分电压的范围描述。
- 总线状态：设备驱动的总线状态。
- RXD：接收数据线状态。
---table end---


# 9.7.(约束)输出
 约束输出管脚用于控制系统的电源管理来达到休眠模式下极低的功耗。该管脚可以用来使能或者关闭外部的稳压
器，它有两个状态:驱动高和高阻态。
 当处于驱动高状态时候，输出 Vsup 减去一个压降。当处于高阻状态时候，输出是悬空状态。在常规模式，静默模
式，进入休眠模式和待机模式状态下，INH 管脚呈驱动高状态，在休眠模式下，INH 管脚呈高阻态。
# 9.8. 内部和外部标识符
 如下的标识符用于 MCU 判断器件和系统的状态。nFAULT 管脚可以用来显示故障，同时，它也可以用来指示唤醒请
求和 VSUP 电源上的冷上电过程。RXD 管脚也可以用来指示唤醒请求和故障的状态。
表 9-4 器件状态标识符
---table begin---
Table tile:CA-IF1043 器件状态标识符表
| 事件标识符 | 名称          | 原因                                          | 标识状态 | 备注                                               |
| --------- | ------------- | --------------------------------------------- | -------- | -------------------------------------------------- |
| 上电      | PWRON         | Vsup 正常状态                                |          |                                                  |
|           | nFAULT=L6     | (从待机，休眠，进入休眠模式进入常规模式后唤醒请求) |          |                                                  |
|           |               | (nFAULT=RXD=L6 从待机、休眠、进入休眠模式中被唤醒) |          |                                                  |
|           |               | (VCC 或 VIO 欠压超过 tuv_long(vcc&vio)，只能在待机、进入休眠和休眠模式下发生唤醒) |          |                                                  |
| 唤醒源 3 | WAKESR        | 本地或远程唤醒或初始上电                      |          | 进入常规模式 4 后，nFAULT=L6 表示本地唤醒，nFAULT=H6 表示远程唤醒 |
| 常规模式下 | TXD 连续 4 个隐性到显性跳变 | 或者 VCC 或 VIO 欠压超过 tuv_long(vcc&vio)，或者离开常规模式 |          | 初始上电时置位欠压                                 |
| 欠压      | UVVCC         | VCC 欠压 不对外显示                         |          | VCC 恢复或者发生唤醒请求                            |
|           | UVVIO         | VIO 欠压 不对外显示                         |          | VIO 恢复或者发生唤醒请求                            |
|           | UVVSUP        | VSUP 欠压 不对外显示                        |          | VSUP 恢复                                          |
| Vsup 欠压再恢复触发 | PWRON 和 WAKERQ |                                            |          |                                                  |
| 总线故障 5 | CBF           | CANH/L 短路到 GND，VCC，VSUP                 |          | 进入常规模式后 nFAULT=L6 离开常规模式，故障必须持续四个显性到隐性跳变 |
| 本地故障   | TXDDTO        | TXD 显性超时                                 |          | 从常规模式进入静默模式后，nFAULT=L6 RXD=L 并且 TXD=H 或者再次进入常规，待机，进入休眠或休眠模式，直到 TXDDTO 清零驱动器才使能 |
|           | TXDRXD        | TXD 和 RXD 短路                              |          | 直到 TXDRXD 清零驱动器才使能                       |
|           | CANDOM        | 总线显性超时                                 |          | RXD=H 或者再次进入常规，待机，进入休眠或休眠模式，驱动器仍然使能 |
|           | TSD           | 过温，温度降低并且 RXD=L 并且 TXD=H，或者再次进入常规，待机，进入休眠或休眠模式，直到 TSD 清零驱动器才使能 |          |                                                  |
注：
1. VIO 和 VSUP 有电；
2. 直到 WAKERQ 标识符清零才能进入休眠模式；
3. 唤醒源识别标识第一个唤醒源，如果其他唤醒行为发生，标识符始终显示第一个唤醒源；
4. 只在常规模式下显示直到被清零；
5. 当 TXD 发生四个显性到隐性跳变后，总线故障标识符才被显示；
6. L 表示低电平，H 表示高电平，X 表示无关紧要。
---table end---


# 9.8.1. 上电标识符(PWRON)
POWRON 是内部和外部的标识符，用来设置和控制器件的上电状态。当 VSUP 初始上电后，器件会进入待机模式
并且 POWRON 标识符被置位。从待机模式，进入休眠模式或者休眠模式进入静默模式，POWRON 标识符通过将
nFAULT 管脚拉低显示出来。进入常规模式后，该标识符被清零。
# 9.8.2. 唤醒请求标识符(WAKERQ)
WAKERQ 是内部和外部的标识符，可以在待机模式，进入休眠模式和休眠模式下被置位，同时，nFAULT 和 RXD 也
在待机模式，进入休眠模式和休眠模式下被拉低。当发生本地唤醒或者远程唤醒或者初始上电后，该标识符被置位，
同时，置位将 UVVCC 和 UVVIO 以及它们的计数器清零。当进入常规模式或者 VCC 或者 VIO 发生欠压后，该标识符被
清零。
#  9.8.3. 唤醒源识别标识符(WAKESR)
WAKESR 是内部和外部的标识符，在有效的本地唤醒或者远程唤醒后被置低或高。若是本地唤醒，该标识符被置
低，若是远程唤醒，该标识符被置高。在进入常规模式后，nFAULT 管脚将相应的反应该标识符的状态，在 TXD 有四个
隐性到显性的跳变后，该标识符被置高（若置高，nFAULT 置高）。离开常规模式或者 VCC 欠压发生，该标识符也将被
置高（若置高，nFAULT 置高）。在初始上电或者 VSUP 从欠压恢复后，该标识符被置低(nFAULT 置低)。
#  9.8.4. VCC 欠压标识符(UVVCC)
内部标识符，当 VCC 发生欠压超过时间 tuv 之后。发生 UVVCC 后，并且超过时间 tuv_vcc 后，器件将进入待机模
式，若欠压时间超过 tuv_long 后，UVCC 标识符被置位，器件将进入休眠模式。当 VCC 恢复或者发生唤醒请求后请零
#  9.8.5. VIO 欠压标识符(UVVIO)
内部标识符，当 VIO 发生欠压超过时间 tuv 之后。发生 UVVIO 后，并且超过时间 tuv_vio 后，器件将进入待机模
式，若欠压时间超过 tuv_long 后，UVVIO 标识符被置位，器件将进入休眠模式，当 VIO 恢复或者发生唤醒请求后清零
# 9.8.6. VSUP 欠压标识符(UVVSUP)
内部标识符，当 VSUP 发生欠压之后。VSUP 恢复后，该标识符被清零，同时，也将 PWRON 和 WAKERQ 标识符置
位。发生 UVVSUP 后，器件将进入保护模式。收发器被关闭，总线和 RXD 呈高阻态，INH 关闭。
# 9.8.7. 总线故障标识符(CBF)
器件将检测总线的六种故障: CANH 及 CANL 短路到 VCC，VSUP，GND。这些故障仅在常规模式下检测， nFAULT 管
脚在常规模式下显示这些故障。
这些故障在收发器显性状态下被检测，如果这些故障持续连续四个显性-隐性位，nFAULT 管脚将被拉低，总线驱
动器仍然正常工作。当 VSUP 重新上电或者离开常规模式时，该标识符被清零。
高速 CAN FD 数据帧可能不适用于总线故障检测，建议仲裁位的总线显性时间至少为 tCBF 的最小值，即 1.9us。
# 9.8.8. 本地故障标识符
本地故障标识符在常规模式和静默模式下检测，只有发生从常规模式到静默模式的转换后，该标识符才通过
nFAULT 显示出来，其他转换发生时本地故障标识符被清零， VSUP 重新上电也将本地故障标识符清零 。
# 9.8.8.1. 本地故障标识符-TXDDTO
在常规模式显性状态下，若 CAN 控制器发生错误时候，会将 TXD 一直拉低，总线就会被钳位在显性状态，显性超
时功能则会避免这一状态。显性超时保护被 TXD 的下降沿所触发，当 TXD 处于显性的时间超过 tTXD_DTO 时候，发射器
会被关闭，以释放总线到隐性状态。发射器的显性超时功能限制了可能的最低传输速率为 5kbps。
从静默模式切换到其他模式后，该标识符会被清零。当 RXD=L 并且 TXD=H 时候，该标识符也会被清零。直到该标
识符被清零，驱动器才重新使能。
#  9.8.8.2. 本地故障标识符-TXDRXD
该标识符用来检测 TXD 和 RXD 短路在一起超过时间 tTXD_DTO，通过 nFAULT 管脚显示出来。
从静默模式切换到其他模式后，该标识符会被清零。当 RXD=0 并且 TXD=H 时候，该标识符也会被清零。直到该
标识符被清零，驱动器才重新使能。
# 9.8.8.3. 本地故障标识符-CANDOM
该标识符用来检测总线呈显性状态时间超过 tBUS_DOM，通过 nFAULT 管脚显示出来，也可以通过 RXD 管脚显示出
来。
 从静默模式切换到其他模式后，该标识符会被清零。当 RXD=H 时候，该标识符也会被清零。驱动器会一直正常工
作。
# 9.8.8.4. 本地故障标识符-TSD
过温后，驱动器被关闭，TSD 标识符被置位，通过 nFAULT 管脚显示出来。
从静默模式切换到其他模式后，该标识符会被清零。当 RXD=0 并且 TXD=H 并且温度回到正常时候，该标识符也会
被清零。直到该标识符被清零，驱动器才重新使能。
过温不会关闭 INH 输出。

# 10. 典型应用
图 10-1 和图 10-2 给出了 CA-IF1043 版本的典型应用图。在图 10-1 的应用中，一个 5V 稳压器同时给 VCC 和 VIO 供
电；在图 10-2 的应用中，一个 5V 稳压器给 VCC 供电，另一个 3.3V 稳压器给 VIO 供电。


# 11. 封装信息
# 11.1. SOIC14 的外形尺寸
SOIC14 封装尺寸图和建议焊盘尺寸图。尺寸以毫米为单位
# 11.2. DFN14 的外形尺寸
DFN14 封装尺寸图和建议焊盘尺寸图。尺寸以毫米为单位


# 12. 焊接信息
---table begin---
Table tile:CA-IF1043焊接信息表
| 参数                         | 值                                       |
| ---------------------------- | ---------------------------------------- |
| 温升速率（TL=217°C 至峰值 TP） | 最大 3°C/s                              |
| 预热时间 ts                 | 60~120 秒                                |
| 温度保持时间 tL             | 60~150 秒                                |
| 峰值温度 TP                 | 260°C                                   |
| 峰值温度下的时间 tP         | 最长 30 秒                              |
| 降温速率（峰值 TP 至 TL=217°C） | 最大 6°C/s                              |
| 常温 25°C 到峰值温度 TP 时间 | 最长 8 分钟                              |
---table end---


# 13. 编带信息


# 14. 重要声明
上述资料仅供参考使用，用于协助 Chipanalog 客户进行设计与研发。Chipanalog 有权在不事先通知的情况下，保
留因技术革新而改变上述资料的权利。
Chipanalog 产品全部经过出厂测试。 针对具体的实际应用，客户需负责自行评估，并确定是否适用。Chipanalog
对客户使用所述资源的授权仅限于开发所涉及 Chipanalog 产品的相关应用。 除此之外不得复制或展示所述资源， 如
因使用所述资源而产生任何索赔、 赔偿、 成本、 损失及债务等， Chipanalog 对此概不负责。

 